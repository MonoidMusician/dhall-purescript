<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>Dhall AST Editor: Icons test</title>
    <style>
    body {
      font-size: 24px;
      font-family: sans-serif;
      background-color: #242430;
      color: hsl(42, 41%, 80%);
    }
    svg.feather {
      width: 1em;
      height: 1em;
      stroke: currentColor;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
      fill: none;
    }
    svg.feather.inline {
      vertical-align: middle;
      margin: 0.0ex 0.25em;
    }
    svg.feather.passive {
      stroke: hsl(169, 42%, 29%);
      stroke-opacity: 0.75;
    }
    svg.feather.active {
      stroke: hsl(169, 36%, 45%);
      cursor: pointer;
      stroke-opacity: 0.75;
    }
    svg.feather.active:hover {
      stroke-opacity: 1;
      stroke-width: 2.6;
    }
    button:active > svg.feather.active {
      stroke-opacity: 1;
    }
    button:focus > svg.feather.active {
      stroke: hsl(205, 83%, 47%);
    }
    /* Move handles do not maintain click focus while moving in the DOM */
    /* So instead we use the click activation */
    button.move:active > svg.feather.active.move {
      stroke: hsl(205, 83%, 47%);
    }
    svg.feather.move.vertical {
      cursor: ns-resize;
    }
    .ast, .code {
      font-family: monospace;
    }
    .grid-container, .grid-container-parent > div {
      display: grid;
      grid-template-columns: 1em min-content 1em 1em max-content;
      grid-template-rows: min-content min-content min-content;
      grid-gap: 0.25ex 0.25em;
      grid-template-areas:
        ". . . . ."
        ". . . . ."
        ". . . . .";
    }
    .grid-container svg.feather.inline,
    .grid-container-parent > div svg.feather.inline {
      margin: 0.0ex 0.0em;
    }
    .grid-container-parent > div div {
      display: contents;
    }
    .grid-container-parent > div div.show-contents-last div {
      display: block;
    }
    /*.row {
      display: grid;
      grid-template-columns: min-content 1em 1fr;
      grid-gap: 0ex 0.25em;
    }*/
    .row {
      display: contents;
    }
    button {
      background: none;
      border: none;
      outline: none;
      font: inherit;
      color: inherit;
      border: none;
      margin: 0px;
      padding: 0px;
    }
    input[type=text], input[type=number] {
      background: linear-gradient(to top, hsla(285, 63%, 41%, 0.1) 0%, hsla(285, 63%, 41%, 0.0) 100%);
      border: none;
      outline: none;
      font: inherit;
      color: inherit;
      width: min-content;
      box-sizing: border-box;
      border: none;
      border-bottom: 2px solid hsla(285, 63%, 41%, 0.1);
      margin-bottom: -2px;
      transition: border 0.5s, background 0.5s;
      padding: 0px;
    }
    input[type=number] {
      width: 3em;
    }
    input[type=text]:focus, input[type=number]:focus {
      background: linear-gradient(to top, hsla(285, 63%, 41%, 0.2) 0%, hsla(285, 63%, 41%, 0.05) 100%);
      outline: none;
      border-bottom: 2px solid hsla(277, 36%, 46%, 1.0);
      margin-bottom: -2px;
      transition: border 0.5s, background 0.5s;
    }

    .node-name {
      font-weight: bold;
    }
    .node-child {
      padding-left: 1.5em;
    }
    .node-child > span:first-child {
      color: hsla(120, 83%, 32%, 0.90);
    }
    /* align icons on the same line as the following context */
    .expression {
      white-space: nowrap;
    }
    .expression > *, .maybe > li > * {
      display: inline-block;
      vertical-align: top;
    }
    .selected {
      outline: 4px auto cyan;
    }
    </style>
    <script src="icons.js"></script>
  </head>
  <body>
    Hello. Enter some Dhall code in the text area at the bottom of the page (wait for the checkmark to say it has parsed correctly; sorry, no multi-let yet!).
    Then, select the main node (or any other node) by clicking on the bulls-eye next to it, and then click on the pencil near the top to paste the parsed code onto that node.
    Click on the "cpu" icon to see the normalized AST, the "type" icon to see its type, the "plus" icon to add a new view of the same expression, etc.
    Better type errors on the way soon!!!!
  </body>
</html>
